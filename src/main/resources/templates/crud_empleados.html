<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments :: main_header('Sistema de Administración de Empleados')}"></head>

<body>

<div th:replace="~{fragments :: navbar}"></div>

<div class="container my-2 main-content">
	<h1>Sistema de Administración de Empleados - SENA</h1>

	<a th:href="@{/showNewEmployeeForm}" class="btn btn-primary btn-sm mb-3">
		Agregar un Empleado
	</a>

	

	<table class="table table-striped table-responsive-md">
		<thead>
			<tr>
				<th>
					<a
						th:href="@{/page/{currentPage}(currentPage=${currentPage}, sortField='firstName', sortDir=${reverseSortDir})}">
						Nombres del Empleado</a
					>
				</th>
				<th>
					<a
						th:href="@{/page/{currentPage}(currentPage=${currentPage}, sortField='lastName', sortDir=${reverseSortDir})}">
						Apellidos del Empleado</a
					>
				</th>
				<th>
					<a
						th:href="@{/page/{currentPage}(currentPage=${currentPage}, sortField='email', sortDir=${reverseSortDir})}">
						Email del Empleado</a
					>
				</th>
				<th>Acciones</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="employee : ${listEmployees}">
				<td th:text="${employee.firstName}"></td>
				<td th:text="${employee.lastName}"></td>
				<td th:text="${employee.email}"></td>
				<td>
					<a
						th:href="@{/showFormForUpdate/{id}(id=${employee.id})}"
						class="btn btn-primary"
						>Actualizar</a
					>
					<a
						th:href="@{/deleteEmployee/{id}(id=${employee.id})}"
						class="btn btn-danger"
						>Eliminar</a
					>
				</td>
			</tr>
		</tbody>
	</table>

	<!-- Paginacin Mejorada con Componente de Bootstrap -->
	<div
		th:if="${totalPages > 1}"
		class="d-flex justify-content-between align-items-center">
		<span> Registros Totales: [[${totalItems}]] </span>
		<nav aria-label="Paginacin">
			<ul class="pagination">
				<!-- Enlace a la Pgina Anterior -->
				<li
					class="page-item"
					th:classappend="${currentPage == 1} ? 'disabled'">
					<a
						class="page-link"
						th:href="@{/page/{pageNumber}(pageNumber=${currentPage - 1}, sortField=${sortField}, sortDir=${sortDir})}"
						>Anterior</a
					>
				</li>

				<!-- Nmeros de Pgina -->
				<li
					th:each="i: ${#numbers.sequence(1, totalPages)}"
					class="page-item"
					th:classappend="${currentPage == i} ? 'active'">
					<a
						class="page-link"
						th:href="@{/page/{pageNumber}(pageNumber=${i}, sortField=${sortField}, sortDir=${sortDir})}"
						th:text="${i}"></a>
				</li>

				<!-- Enlace a la Pgina Siguiente -->
				<li
					class="page-item"
					th:classappend="${currentPage == totalPages} ? 'disabled'">
					<a
						class="page-link"
						th:href="@{/page/{pageNumber}(pageNumber=${currentPage + 1}, sortField=${sortField}, sortDir=${sortDir})}"
						>Siguiente</a
					>
				</li>
			</ul>
		</nav>
	</div>
</div>

<div th:replace="~{fragments :: footer}"></div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
		integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
		crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
		integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
		crossorigin="anonymous"></script>
</body>
</html>